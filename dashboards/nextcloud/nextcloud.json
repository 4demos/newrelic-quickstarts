{
	"name": "Nextcloud",
	"description": null,
	"pages": [
	  {
		"name": "Overview",
		"description": null,
		"widgets": [
		  {
			"title": "",
			"layout": {
			  "column": 1,
			  "row": 1,
			  "width": 2,
			  "height": 2
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.markdown"
			},
			"rawConfiguration": {
			  "text": "![logo](https://symbols.getvecta.com/stencil_25/59_nextcloud.957608d8aa.png)"
			}
		  },
		  {
			"title": "Server Uptime",
			"layout": {
			  "column": 3,
			  "row": 1,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.area"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "legend": {
				"enabled": true
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_up) AS 'Uptime' TIMESERIES AUTO "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  },
		  {
			"title": "App Metrics",
			"layout": {
			  "column": 7,
			  "row": 1,
			  "width": 2,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.billboard"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_apps_installed_total) As 'Apps Installed', latest(nextcloud_apps_updates_available_total) As 'Apps Updates Available'"
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  },
		  {
			"title": "User Metrics",
			"layout": {
			  "column": 9,
			  "row": 1,
			  "width": 2,
			  "height": 5
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.billboard"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_users_total) As 'Total Users', latest(nextcloud_active_users_total) As 'Total Active Users', latest(nextcloud_active_users_daily_total) As 'Active Users Daily', latest(nextcloud_active_users_hourly_total) As 'Active Users Hourly'"
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  },
		  {
			"title": "Federated Shares",
			"layout": {
			  "column": 11,
			  "row": 1,
			  "width": 2,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.billboard"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_shares_federated_total) As 'Shares Federated' facet direction"
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  },
		  {
			"title": "",
			"layout": {
			  "column": 1,
			  "row": 3,
			  "width": 2,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.markdown"
			},
			"rawConfiguration": {
			  "text": "**About**\n\nInstrument your application with New Relic - [Add Data](https://one.newrelic.com/catalog-pack-details/nr1-core/home?state=6538d574-b26d-0e36-ae65-f402e7b8e8f2).\n\nUnable to find data in your dashboard? - [Troubleshoot here](\nhttps://docs.newrelic.com/docs/infrastructure/prometheus-integrations/troubleshooting/no-data-appears-prometheus-integration/)\n\n[Please rate this dashboard](https://docs.google.com/forms/d/e/1FAIpQLSclR38J8WbbB2J1tHnllKUkzWZkJhf4SrJGyavpMd4t82NjnQ/viewform?usp=pp_url&entry.1615922415=Nextcloud) here and let us know how we can improve it for you.\n"
			}
		  },
		  {
			"title": "Files Count",
			"layout": {
			  "column": 3,
			  "row": 4,
			  "width": 3,
			  "height": 2
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.billboard"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_files_total) AS '' "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  },
		  {
			"title": "Database Size (bytes)",
			"layout": {
			  "column": 6,
			  "row": 4,
			  "width": 3,
			  "height": 2
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.billboard"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_database_size_bytes) As '' "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  },
		  {
			"title": "Shares Total",
			"layout": {
			  "column": 11,
			  "row": 4,
			  "width": 2,
			  "height": 2
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.billboard"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_shares_total) As ''"
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  }
		]
	  },
	  {
		"name": "Memory Usage",
		"description": null,
		"widgets": [
		  {
			"title": "",
			"layout": {
			  "column": 1,
			  "row": 1,
			  "width": 12,
			  "height": 1
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.markdown"
			},
			"rawConfiguration": {
			  "text": "# Memory Usage\n\nShortlist of what you need to do to increase performance using New Relic Infrastructure agent with Prometheus open metrics integration and Nextcloud exporter configuration."
			}
		  },
		  {
			"title": "Heap Memory Allocated/In Use (bytes)",
			"layout": {
			  "column": 1,
			  "row": 2,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.line"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "legend": {
				"enabled": true
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric select latest(go_memstats_heap_alloc_bytes) As 'Allocated (bytes)', latest(go_memstats_heap_inuse_bytes)  As 'In Use (bytes)'TIMESERIES AUTO "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  },
			  "yAxisLeft": {
				"zero": true
			  }
			}
		  },
		  {
			"title": "Heap Memory Available (bytes)",
			"layout": {
			  "column": 5,
			  "row": 2,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.line"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "legend": {
				"enabled": true
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric select latest(go_memstats_heap_idle_bytes) As 'Idle (bytes)', latest(go_memstats_heap_released_bytes) As 'Released (bytes)' TIMESERIES AUTO "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  },
			  "yAxisLeft": {
				"zero": true
			  }
			}
		  },
		  {
			"title": "Virtual Memory Processed (bytes)",
			"layout": {
			  "column": 9,
			  "row": 2,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.line"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "legend": {
				"enabled": true
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(process_virtual_memory_bytes),latest(process_virtual_memory_max_bytes) TIMESERIES AUTO "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  },
			  "yAxisLeft": {
				"zero": true
			  }
			}
		  },
		  {
			"title": "PHP Maximum Upload Size (bytes)",
			"layout": {
			  "column": 1,
			  "row": 5,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.area"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "legend": {
				"enabled": true
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_php_upload_max_size_bytes) As 'Maximum Upload Size (bytes)' TIMESERIES AUTO "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  },
		  {
			"title": "PHP Memory Limit (bytes)",
			"layout": {
			  "column": 5,
			  "row": 5,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.line"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "legend": {
				"enabled": true
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_php_memory_limit_bytes) As 'PHP Memory Limit (bytes)' TIMESERIES AUTO "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  },
			  "yAxisLeft": {
				"zero": true
			  }
			}
		  },
		  {
			"title": "Server Free Space (bytes)",
			"layout": {
			  "column": 9,
			  "row": 5,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.stacked-bar"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "legend": {
				"enabled": true
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT latest(nextcloud_free_space_bytes) As 'Free Space (bytes)' TIMESERIES AUTO "
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  }
			}
		  }
		]
	  },
	  {
		"name": "Alerts",
		"description": null,
		"widgets": [
		  {
			"title": "Heap Memory Usage (megabytes)",
			"layout": {
			  "column": 1,
			  "row": 1,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.billboard"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric select latest(go_memstats_heap_inuse_bytes)/1e+6 As ''"
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  },
			  "thresholds": [
				{
				  "alertSeverity": "CRITICAL",
				  "value": 2
				},
				{
				  "alertSeverity": "WARNING",
				  "value": 4
				}
			  ]
			}
		  },
		  {
			"title": "Scrape Errors",
			"layout": {
			  "column": 5,
			  "row": 1,
			  "width": 4,
			  "height": 3
			},
			"linkedEntityGuids": null,
			"visualization": {
			  "id": "viz.billboard"
			},
			"rawConfiguration": {
			  "facet": {
				"showOtherSeries": false
			  },
			  "nrqlQueries": [
				{
				  "accountId": 0,
				  "query": "FROM Metric SELECT sum(nextcloud_scrape_errors_total) As ''"
				}
			  ],
			  "platformOptions": {
				"ignoreTimeRange": false
			  },
			  "thresholds": [
				{
				  "alertSeverity": "CRITICAL",
				  "value": 3
				},
				{
				  "alertSeverity": "WARNING",
				  "value": 0
				}
			  ]
			}
		  }
		]
	  }
	],
	"variables": []
  }