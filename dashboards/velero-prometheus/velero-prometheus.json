{
  "name": "Velero-Prometheus",
  "description": null,
  "pages": [
    {
      "name": "Velero Prometheus",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# ![Velero logo](https://i.imgur.com/Yk8FsuR.png)\n## Filter this Dashboard by schedule or job to see details of specific Velero backups"
          }
        },
        {
          "title": "Active Backups (last 5 minutes)",
          "layout": {
            "column": 3,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_backup_active_total) AS 'Active' WHERE instrumentation.name = 'remote-write' SINCE 5 MINUTES AGO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": true
            }
          }
        },
        {
          "title": "Successful Backups",
          "layout": {
            "column": 5,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_backup_success_total) AS 'Backups (success)' WHERE instrumentation.name = 'remote-write' SINCE 24 HOURS AGO COMPARE WITH 1 day ago "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Failed Backups",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_backup_failure_total) AS 'Backups (failed)' WHERE instrumentation.name = 'remote-write' SINCE 24 HOURS AGO COMPARE WITH 1 day ago "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Validation Failures",
          "layout": {
            "column": 9,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_backup_validation_failure_total) AS 'Validation (failed)' WHERE instrumentation.name = 'remote-write' SINCE 24 HOURS AGO COMPARE WITH 1 day ago "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Backup Total Size",
          "layout": {
            "column": 11,
            "row": 1,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_backup_tarball_size_bytes) AS 'Size' WHERE instrumentation.name = 'remote-write' SINCE 24 HOURS AGO COMPARE WITH 1 day ago "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Backup status ---------->\n\nProvides a list of failures and the overall success percentage for scheduled and unschueduled jobs. "
          }
        },
        {
          "title": "Backup Failures",
          "layout": {
            "column": 4,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_backup_failure_total) WHERE instrumentation.name = 'remote-write' FACET schedule, job SINCE 24 HOURS AGO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Backup Success Percentage (schedule)",
          "layout": {
            "column": 7,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT (sum(velero_backup_success_total) / sum(velero_backup_attempt_total)) * 100 WHERE schedule IS NOT NULL AND instrumentation.name = 'remote-write' FACET schedule, job SINCE 24 HOURS AGO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Backup Success Percentage (non-scheduled)",
          "layout": {
            "column": 10,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT (sum(velero_backup_success_total) / sum(velero_backup_attempt_total)) * 100 As 'non-scheduled' WHERE schedule IS NULL AND instrumentation.name = 'remote-write' FACET job SINCE 60 MINUTES AGO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 7,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Restore status ---------->\n\nProvides a list of failed restores and the success percentage for and the overall restore success percentage for scheduled and unschueduled jobs. "
          }
        },
        {
          "title": "Restore Failures",
          "layout": {
            "column": 4,
            "row": 7,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_restore_failed_total) WHERE instrumentation.name = 'remote-write' FACET schedule, job SINCE 24 HOURS AGO  "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Restore Success Percentage (shedule)",
          "layout": {
            "column": 7,
            "row": 7,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT (sum(velero_restore_success_total) / sum(velero_restore_attempt_total)) * 100 WHERE schedule IS NOT NULL AND instrumentation.name = 'remote-write' FACET schedule, job SINCE 24 HOURS AGO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Restore Success Percentage (non-sheduled)",
          "layout": {
            "column": 10,
            "row": 7,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT (sum(velero_restore_success_total) / sum(velero_restore_attempt_total)) * 100 AS 'non-scheduled' WHERE schedule IS NULL AND instrumentation.name = 'remote-write' FACET job SINCE 24 HOURS AGO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 10,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Backup system operation"
          }
        },
        {
          "title": "Backup Duration Seconds (schedule)",
          "layout": {
            "column": 1,
            "row": 11,
            "width": 6,
            "height": 4
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_backup_duration_seconds_bucket) WHERE schedule IS NOT NULL AND instrumentation.name = 'remote-write' FACET schedule, job  SINCE 24 HOURS AGO TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Backup Duration Seconds (non-scheduled)",
          "layout": {
            "column": 7,
            "row": 11,
            "width": 6,
            "height": 4
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT sum(velero_backup_duration_seconds_bucket) AS 'non-scheduled' WHERE schedule IS NULL AND instrumentation.name = 'remote-write' FACET job SINCE 24 HOURS AGO TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Average Backup Size (schedule)",
          "layout": {
            "column": 1,
            "row": 15,
            "width": 6,
            "height": 4
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT average(velero_backup_tarball_size_bytes) WHERE schedule IS NOT NULL AND instrumentation.name = 'remote-write' FACET schedule, job SINCE 24 HOURS AGO TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Average Backup Size (non-scheduled)",
          "layout": {
            "column": 7,
            "row": 15,
            "width": 6,
            "height": 4
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT average(velero_backup_tarball_size_bytes) AS 'non-scheduled' WHERE schedule IS NULL AND instrumentation.name = 'remote-write' FACET job SINCE 24 HOURS AGO TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    }
  ],
  "variables": []
}