{
  "name": "Mobile",
  "description": "A dashboard for all your mobile app instrumenting needs.",
  "pages": [
    {
      "name": "Mobile",
      "description": "A dashboard for all your mobile app instrumenting needs.",
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 8,
            "height": 5
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Welcome to the New Relic Mobile dashboard! üì±üìä\n## Before you start, make sure to follow this little instruction for maximum visibility. After that, you may delete this text box.\n\nYou may notice after installation that charts are showing no data. All you have to do is \n\n- [ ] Choose a specific app from the variable dropdown labelled `Select Mobile App` and data should populate in the charts. \n\nThe views in this dashboard are `entity-guid` dependant, but to make it easier for users all you have to do is select by app name, we match that with the GUID in the NRQL queries for each chart using [sub-queries](https://docs.newrelic.com/docs/query-your-data/nrql-new-relic-query-language/get-started/subqueries-in-nrql).\n\n > NOTE: While some of the charts in this dashboard might work out of the box without an app selected, please bear in mind if you don't specify an Entity guid the results displayed will be an aggreagation of *all* your mobile apps in your account.\n \n ‚ö†Ô∏è The dropdown list of apps is currently limited to 10000. If you have more than 10000 apps in your account you can adjust the NRQL query to narrow down results by:\n- [ ] Click on the ‚úèÔ∏è icon inthe top right-hand corner of the dashboard\n- [ ] Click on the `Select Mobile App` variable dropdown and then click **Edit**\n- [ ] Adjust the NRQL query to narrow down results e.g. `WHERE osName = 'iOS'`"
          }
        },
        {
          "title": "App Version",
          "layout": {
            "column": 9,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "SELECT uniqueCount(appVersion) FROM MobileRequest WHERE (entityGuid = (SELECT latest(entityGuid) FROM Mobile WHERE appName = {{select_mobile_app}})) FACET appVersion SINCE 1 month ago EXTRAPOLATE"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "OS Version",
          "layout": {
            "column": 9,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "SELECT uniqueCount(osVersion) FROM MobileRequest WHERE (entityGuid = (SELECT latest(entityGuid) FROM Mobile WHERE appName = {{select_mobile_app}})) FACET osVersion SINCE 1 month ago EXTRAPOLATE"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "dataFormatters": [
              {
                "name": "Installed devices",
                "type": null
              }
            ],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "SELECT uniqueCount(uuid) as 'Installed devices' FROM MobileUserAction WHERE (entityGuid = (SELECT latest(entityGuid) FROM Mobile WHERE appName = {{select_mobile_app}})) SINCE 1 month ago COMPARE WITH 1 month ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": true
            }
          }
        },
        {
          "title": "Installations by country",
          "layout": {
            "column": 5,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "SELECT uniqueCount(uuid) FROM MobileRequest WHERE (entityGuid = (SELECT latest(entityGuid) FROM Mobile WHERE appName = {{select_mobile_app}})) FACET `countryCode` SINCE 1 month ago EXTRAPOLATE"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": true
            }
          }
        },
        {
          "title": "Memory Usage (99%)",
          "layout": {
            "column": 9,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "SELECT percentile(memUsageMb, 99) FROM MobileRequest WHERE (entityGuid = (SELECT latest(entityGuid) FROM Mobile WHERE appName = {{select_mobile_app}})) TIMESERIES SINCE 43200 seconds ago EXTRAPOLATE"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "App launches",
          "layout": {
            "column": 1,
            "row": 9,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "SELECT count(newrelic.timeslice.value) FROM Metric WHERE (entityGuid = (SELECT latest(entityGuid) FROM Mobile WHERE appName = {{select_mobile_app}})) AND (metricTimesliceName = 'Session/Start') FACET `instanceName` SINCE 30 minutes ago TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Transaction response time",
          "layout": {
            "column": 9,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.heatmap"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "SELECT histogram(responseTime, 10, 10) FROM MobileRequest FACET `requestDomain` LIMIT 10 SINCE 43200 seconds ago EXTRAPOLATE"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    }
  ],
  "variables": [
    {
      "name": "select_mobile_app",
      "items": null,
      "defaultValues": [],
      "nrqlQuery": {
        "accountIds": [],
        "query": "SELECT uniques(appName, 10000) FROM Mobile SINCE 1 week ago"
      },
      "title": "Select Mobile App",
      "type": "NRQL",
      "isMultiSelection": false,
      "replacementStrategy": "STRING"
    }
  ]
}