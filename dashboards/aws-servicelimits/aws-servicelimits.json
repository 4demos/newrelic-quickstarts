{
    "name": "Aws servicelimits",
    "description": "",
    "pages": [
        {
            "name": "Aws servicelimits",
            "description": "",
            "widgets": [
                {
                    "title": "Service limit status for resources (summary view)",
                    "layout": {
                        "height": 2,
                        "width": 8,
                        "row": 1,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.billboard"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT uniqueCount(`aws.trustedadvisor.limitName`) FROM Metric WHERE metricName = 'aws.trustedadvisor.status' FACET cases(WHERE aws.trustedadvisor.status like 'Red' as '100% of limit', WHERE aws.trustedadvisor.status like 'Yellow' as '80%-99% of limit', WHERE aws.trustedadvisor.status like 'Green' as 'Below 80% of limit', WHERE aws.trustedadvisor.status like 'Blue' as 'No data received') SINCE 1 day ago"
                            }
                        ]
                    }
                },
                {
                    "title": "Service limit status for resources (chart view)",
                    "layout": {
                        "height": 4,
                        "width": 8,
                        "row": 3,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.area"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT uniqueCount(`aws.trustedadvisor.limitName`) FROM Metric WHERE metricName = 'aws.trustedadvisor.status' FACET cases(WHERE aws.trustedadvisor.status like 'Red' as '100% of limit', WHERE aws.trustedadvisor.status like 'Yellow' as '80%-99% of limit', WHERE aws.trustedadvisor.status like 'Green' as 'Below 80% of limit', WHERE aws.trustedadvisor.status like 'Blue' as 'No data received') TIMESERIES SINCE 1 week ago"
                            }
                        ]
                    }
                },
                {
                    "title": "Resources per service at 100% of limit",
                    "layout": {
                        "height": 4,
                        "width": 4,
                        "row": 7,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.bar"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT uniqueCount(`aws.trustedadvisor.resourceId`) FROM Metric WHERE metricName = 'aws.trustedadvisor.status' aws.trustedadvisor.status='Red' FACET aws.trustedadvisor.service SINCE 1 day ago LIMIT 1000"
                            }
                        ]
                    }
                },
                {
                    "title": "Resources per service at 80%-99% of limit",
                    "layout": {
                        "height": 4,
                        "width": 4,
                        "row": 7,
                        "column": 5
                    },
                    "visualization": {
                        "id": "viz.bar"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT uniqueCount(`aws.trustedadvisor.resourceId`) FROM Metric WHERE metricName = 'aws.trustedadvisor.status' aws.trustedadvisor.status='Yellow' FACET aws.trustedadvisor.service SINCE 1 day ago LIMIT 1000"
                            }
                        ]
                    }
                },
                {
                    "title": "Resources per service under 80% of limit",
                    "layout": {
                        "height": 4,
                        "width": 4,
                        "row": 7,
                        "column": 9
                    },
                    "visualization": {
                        "id": "viz.bar"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT uniqueCount(`aws.trustedadvisor.resourceId`) FROM Metric WHERE metricName = 'aws.trustedadvisor.status' aws.trustedadvisor.status='Green' FACET aws.trustedadvisor.service SINCE 1 day ago LIMIT 1000"
                            }
                        ]
                    }
                },
                {
                    "title": "Service limit usage for resources at 100% of limit",
                    "layout": {
                        "height": 4,
                        "width": 4,
                        "row": 11,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.bar"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT latest(`aws.trustedadvisor.limitUsage`) FROM Metric WHERE aws.trustedadvisor.limitUsage >= 1 FACET aws.trustedadvisor.limitName, aws.trustedadvisor.service, aws.region SINCE 1 day ago LIMIT 1000"
                            }
                        ]
                    }
                },
                {
                    "title": "Service limit usage for resources at 80%-99% of limit",
                    "layout": {
                        "height": 4,
                        "width": 4,
                        "row": 11,
                        "column": 5
                    },
                    "visualization": {
                        "id": "viz.bar"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT latest(`aws.trustedadvisor.limitUsage`) FROM Metric WHERE aws.trustedadvisor.limitUsage >= 0.8 aws.trustedadvisor.limitUsage < 1 FACET aws.trustedadvisor.limitName, aws.trustedadvisor.service, aws.region SINCE 1 day ago LIMIT 1000"
                            }
                        ]
                    }
                },
                {
                    "title": "Service limit usage for resources under 80% of limit",
                    "layout": {
                        "height": 4,
                        "width": 4,
                        "row": 11,
                        "column": 9
                    },
                    "visualization": {
                        "id": "viz.bar"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT latest(`aws.trustedadvisor.limitUsage`) FROM Metric WHERE aws.trustedadvisor.limitUsage < 0.8 FACET aws.trustedadvisor.limitName, aws.trustedadvisor.service, aws.region SINCE 1 day ago LIMIT 1000"
                            }
                        ]
                    }
                },
                {
                    "title": "All resources",
                    "layout": {
                        "height": 4,
                        "width": 12,
                        "row": 31,
                        "column": 1
                    },
                    "visualization": {
                        "id": "viz.table"
                    },
                    "rawConfiguration": {
                        "nrqlQueries": [
                            {
                                "accountId": 0,
                                "query": "SELECT latest(`aws.trustedadvisor.limitUsage`) as 'Service Limit Usage', latest(aws.trustedadvisor.currentUsage) as 'Current Usage', latest(aws.trustedadvisor.limitAmount) as 'Limit Amount' FROM Metric FACET aws.trustedadvisor.service, aws.trustedadvisor.limitName, aws.region SINCE 1 day ago LIMIT 1000"
                            }
                        ]
                    }
                },
                {
                    "title": "",
                    "layout": {
                        "height": 6,
                        "width": 4,
                        "row": 1,
                        "column": 9
                    },
                    "visualization": {
                        "id": "viz.markdown"
                    },
                    "rawConfiguration": {
                        "text": "::: beyond\n![AWS Trusted Advisor Icon](https://integrations.nr-assets.net/providers/aws_trustedadvisor.png) **AWS Trusted Advisor Service Limits** \n\nAWS Trusted Advisor offers a set of best practice checks across different categories. One of these categories is service limits. Service Limits Check inspects your position with regard to the most important service limits for each AWS product.\n\n\n:::"
                    }
                }
            ]
        }
    ]
}